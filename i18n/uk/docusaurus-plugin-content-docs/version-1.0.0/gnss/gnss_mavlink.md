---
id: gnss_mavlink
title: MAVLink-–ø–∞–∫–µ—Ç–∏ –≤—ñ–¥ –ø–ª–∞—Ç–∏ GNSS sanity board
sidebar_label: MAVLink-–ø–æ–≤–µ–¥—ñ–Ω–∫–∞
---

–£ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ –æ–ø–∏—Å–∞–Ω–æ, —è–∫—ñ **MAVLink-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–ª–∞—Ç–∞ **GNSS sanity board –Ω–∞ STM32F401**, —è–∫ –≤–æ–Ω–∏ –≤–∏–≥–ª—è–¥–∞—é—Ç—å —Ç–∞ —è–∫ —ó—Ö —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É–≤–∞—Ç–∏ –≤ ArduPilot / Mission Planner.

> üîÅ –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è —Å—Ö–µ–º–∏ –æ–±–º—ñ–Ω—É –ø–æ MAVLink:
>
> `![–°—Ö–µ–º–∞ –æ–±–º—ñ–Ω—É –¥–∞–Ω–∏–º–∏ –ø–æ MAVLink](pathname://IMAGE_URL_MAVLINK_OVERVIEW)`

---

## 1. –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ö–µ–º–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó —á–µ—Ä–µ–∑ MAVLink

–ü–ª–∞—Ç–∞ GNSS sanity board –≤–∏—Å—Ç—É–ø–∞—î —è–∫ –æ–∫—Ä–µ–º–∏–π **MAVLink-—É—á–∞—Å–Ω–∏–∫** —ñ–∑ –≤–ª–∞—Å–Ω–∏–º–∏ `sysid` —Ç–∞ `compid`.  
–í–∑–∞—î–º–æ–¥—ñ—è –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:

~~~text
GNSS-–ø—Ä–∏–π–º–∞—á ‚Üí GNSS sanity board ‚Üí MAVLink –ø–æ UART ‚Üí –∞–≤—Ç–æ–ø—ñ–ª–æ—Ç (ArduPilot)
~~~

–û—Å–Ω–æ–≤–Ω—ñ —Ç–∏–ø–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:

- GPS-–¥–∞–Ω—ñ:
  - `GPS_INPUT` **–∞–±–æ** `HIL_GPS` (–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ—à–∏–≤–∫–∏);
- —Å–µ—Ä–≤—ñ—Å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:
  - `STATUSTEXT` (–ª–æ–≥—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É, DR0/DR1, –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ —Å–ø—É—Ñ—ñ–Ω–≥);
- (–æ–ø—Ü—ñ–π–Ω–æ) `HEARTBEAT` –≤—ñ–¥ –ø–ª–∞—Ç–∏, —è–∫—â–æ —Ü–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —É –≤–∞—à—ñ–π –≤–µ—Ä—Å—ñ—ó –ø—Ä–æ—à–∏–≤–∫–∏.

---

## 2. –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ MAVLink

–£ –≤–∏—Ö—ñ–¥–Ω–æ–º—É –∫–æ–¥—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –Ω–∞ –∫—à—Ç–∞–ª—Ç:

~~~cpp
static const uint8_t MY_SYSID  = 42;
static const uint8_t MY_COMPID = MAV_COMP_ID_ONBOARD_COMPUTER; // 191

static const uint8_t FC_SYSID  = 1;
static const uint8_t FC_COMPID = MAV_COMP_ID_AUTOPILOT1;       // 1
~~~

- `MY_SYSID`, `MY_COMPID` ‚Äî —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –ø–ª–∞—Ç–∏ GNSS sanity board.
- `FC_SYSID`, `FC_COMPID` ‚Äî —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –∞–≤—Ç–æ–ø—ñ–ª–æ—Ç–∞ (ArduPilot).

**–í–∞–∂–ª–∏–≤–æ:** —É –≤—Å—ñ—Ö –ø–∞–∫–µ—Ç–∞—Ö, —è–∫—ñ –ø–ª–∞—Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—î **–∞–≤—Ç–æ–ø—ñ–ª–æ—Ç—É**, `target_system` —Ç–∞ `target_component` –º–∞—é—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ `FC_SYSID` —Ç–∞ `FC_COMPID`.  

> –Ø–∫—â–æ –≤–∏ –∑–º—ñ–Ω—é–≤–∞–ª–∏ `SYSID_THISMAV` –≤ ArduPilot, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏ `FC_SYSID` —É –ø—Ä–æ—à–∏–≤—Ü—ñ –ø–ª–∞—Ç–∏.

---

## 3. GPS-–¥–∞–Ω—ñ: –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è `GPS_INPUT` / `HIL_GPS`

–ó–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–µ—Ä—Å—ñ—ó –ø—Ä–æ—à–∏–≤–∫–∏, –ø–ª–∞—Ç–∞ –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:

- `GPS_INPUT` (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö GPS-–ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤),  
  –∞–±–æ
- `HIL_GPS` (—ñ—Å—Ç–æ—Ä–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è –¥–ª—è HIL, –∞–ª–µ —Ç–µ–∂ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —ñ–Ω º—î–∫—Ü—ñ—ó GPS).

### 3.1. –ü—Ä–∏–∫–ª–∞–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ `GPS_INPUT`

–£–º–æ–≤–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è:

~~~cpp
mavlink_gps_input_t gps_in;

gps_in.time_usec       = micros64();
gps_in.gps_id          = 0;
gps_in.ignore_flags    = 0;            // –∞–±–æ –º–∞—Å–∫–∞ –ø–æ–ª—ñ–≤, —è–∫—ñ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è
gps_in.time_week_ms    = ubx_week_ms;
gps_in.time_week       = ubx_week;
gps_in.fix_type        = fix;         // 0..3
gps_in.lat             = lat * 1e7;
gps_in.lon             = lon * 1e7;
gps_in.alt             = alt;         // –º–µ—Ç—Ä–∏ –Ω–∞–¥ MSL
gps_in.vn              = vel_n;       // —à–≤–∏–¥–∫—ñ—Å—Ç—å –ø–æ N (–º/—Å)
gps_in.ve              = vel_e;       // —à–≤–∏–¥–∫—ñ—Å—Ç—å –ø–æ E (–º/—Å)
gps_in.vd              = vel_d;       // —à–≤–∏–¥–∫—ñ—Å—Ç—å –ø–æ D (–º/—Å)
gps_in.hdop            = hdop;
gps_in.vdop            = vdop;
gps_in.yaw             = heading_deg * 100.0f; // —è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∫—É—Ä—Å
gps_in.satellites_used = sats;
~~~

–ü–∞–∫–µ—Ç —Ñ–æ—Ä–º—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑:

~~~cpp
mavlink_message_t msg;
mavlink_msg_gps_input_pack(
    MY_SYSID,
    MY_COMPID,
    &msg,
    FC_SYSID,
    FC_COMPID,
    &gps_in
);
send_mavlink_to_fc(msg);
~~~

**–ö–ª—é—á–æ–≤—ñ –ø–æ–ª—è:**

- `fix_type` ‚Äî —Ç–∏–ø —Ñ—ñ–∫—Å–∞ (0‚Äì3).  
  –í ArduPilot –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è 3D/2D fix.
- `lat`, `lon` ‚Äî —à–∏—Ä–æ—Ç–∞/–¥–æ–≤–≥–æ—Ç–∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ `* 1e7`.
- `alt` ‚Äî –≤–∏—Å–æ—Ç–∞ (–º–µ—Ç—Ä–∏, —è–∫ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞–¥ MSL).
- `hdop`, `vdop` ‚Äî —Ç–æ—á–Ω—ñ—Å—Ç—å –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—ñ/–≤–µ—Ä—Ç–∏–∫–∞–ª—ñ.
- `satellites_used` ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—É–ø—É—Ç–Ω–∏–∫—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏—Ö —É —Ä—ñ—à–µ–Ω–Ω—ñ.

–£ —Ä–µ–∂–∏–º—ñ DR –ø–ª–∞—Ç–∞:

- –∞–±–æ –Ω–µ –Ω–∞–¥—Å–∏–ª–∞—î `GPS_INPUT` –≤–∑–∞–≥–∞–ª—ñ;
- –∞–±–æ –∑–∞–º–æ—Ä–æ–∂—É—î –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ (`lat`, `lon`, `alt` –±–µ—Ä—É—Ç—å—Å—è –∑ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –≤–∞–ª—ñ–¥–Ω–æ–≥–æ –≤–∏–º—ñ—Ä—É).

–¶–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–∞—à–æ—ó –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –ø—Ä–æ—à–∏–≤–∫–∏.

---

## 4. –°–µ—Ä–≤—ñ—Å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è `STATUSTEXT`

–ü–ª–∞—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `STATUSTEXT` –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤–∞–∂–ª–∏–≤–∏—Ö –ø–æ–¥—ñ–π:

- –≤—Ö—ñ–¥ —É DR (`ENTER DR`);
- –≤–∏—Ö—ñ–¥ —ñ–∑ DR (`EXIT DR`);
- –≤–∏—è–≤–ª–µ–Ω–Ω—è —Å—Ç—Ä–∏–±–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç / —à–≤–∏–¥–∫–æ—Å—Ç—ñ;
- —Ç–µ–ª–µ–ø–æ—Ä—Ç —É –ü—ñ–≤–¥–µ–Ω–Ω—É –ø—ñ–≤–∫—É–ª—é;
- —ñ–Ω—à—ñ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

–ü—Ä–∏–∫–ª–∞–¥ —Ñ—É–Ω–∫—Ü—ñ—ó –≤—ñ–¥–ø—Ä–∞–≤–∫–∏:

~~~cpp
static void send_status_text(uint8_t severity, const char *fmt, ...) {
    char buf[80];
    va_list ap;
    va_start(ap, fmt);
    vsnprintf(buf, sizeof(buf), fmt, ap);
    va_end(ap);

    mavlink_message_t msg;
    mavlink_msg_statustext_pack(
        MY_SYSID,
        MY_COMPID,
        &msg,
        severity,
        buf,
        0 // id
    );
    send_mavlink_to_fc(msg);
}
~~~

–ü—Ä–∏–∫–ª–∞–¥–∏ —Ç–µ–∫—Å—Ç—ñ–≤, —è–∫—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤ Mission Planner (–≤–∫–ª–∞–¥–∫–∞ **Messages**):

~~~text
GPS: ENTER DR (jump)
GPS: ENTER DR (no fix)
GPS: EXIT DR
SPOOF: SOUTH HEMI JUMP
~~~

**–†—ñ–≤–Ω—ñ –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ (`severity`):**

- `MAV_SEVERITY_WARNING` ‚Äî –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—Ö—ñ–¥ —É DR).
- `MAV_SEVERITY_ERROR` ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è (—Ç–µ–ª–µ–ø–æ—Ä—Ç, –≥—Ä—É–±–∏–π —Å–ø—É—Ñ—ñ–Ω–≥).
- `MAV_SEVERITY_INFO` ‚Äî —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ –ø–æ–¥—ñ—ó (–≤–∏—Ö—ñ–¥ —ñ–∑ DR, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞).

> üîÅ –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è —Å–∫—Ä—ñ–Ω—à–æ—Ç—É `Messages` –∑ STATUSTEXT:
>
> `![STATUSTEXT –≤—ñ–¥ –ø–ª–∞—Ç–∏ GNSS sanity board –≤ Mission Planner](pathname://IMAGE_URL_MP_STATUSTEXT)`

---

## 5. (–û–ø—Ü—ñ–π–Ω–æ) HEARTBEAT –≤—ñ–¥ –ø–ª–∞—Ç–∏

–£ –¥–µ—è–∫–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö –ø—Ä–æ—à–∏–≤–∫–∏ –ø–ª–∞—Ç–∞ –º–æ–∂–µ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ `HEARTBEAT` —è–∫ –æ–∫—Ä–µ–º–∏–π MAVLink-—É—á–∞—Å–Ω–∏–∫:

~~~cpp
mavlink_heartbeat_t hb{};
hb.type = MAV_TYPE_ONBOARD_CONTROLLER;
hb.autopilot = MAV_AUTOPILOT_INVALID;
hb.base_mode = 0;
hb.system_status = MAV_STATE_ACTIVE;

mavlink_message_t msg;
mavlink_msg_heartbeat_pack(
    MY_SYSID,
    MY_COMPID,
    &msg,
    hb.type,
    hb.autopilot,
    hb.base_mode,
    hb.custom_mode,
    hb.system_status
);
send_mavlink_to_fc(msg);
~~~

–¶–µ –¥–æ–∑–≤–æ–ª—è—î:

- –±–∞—á–∏—Ç–∏ –ø–ª–∞—Ç—É —è–∫ –æ–∫—Ä–µ–º–∏–π –¥–µ–≤–∞–π—Å —É **MAVLink Inspector**;
- –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞—Ç–∏ —ó—ó –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å/–Ω–∞—è–≤–Ω—ñ—Å—Ç—å –≤ –º–µ—Ä–µ–∂—ñ.

–Ø–∫—â–æ –≤–∏ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î—Ç–µ `HEARTBEAT` –≤—ñ–¥ –ø–ª–∞—Ç–∏, —Ü–µ–π –±–ª–æ–∫ —É –ø—Ä–æ—à–∏–≤—Ü—ñ –º–æ–∂–Ω–∞ –≤–∏–º–∫–Ω—É—Ç–∏, —â–æ–± –∑–º–µ–Ω—à–∏—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫.

---

## 6. –Ø–∫ –ø–æ–±–∞—á–∏—Ç–∏ –ø–∞–∫–µ—Ç–∏ —É Mission Planner

1. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å Mission Planner –¥–æ –∞–≤—Ç–æ–ø—ñ–ª–æ—Ç–∞.
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Ctrl+F ‚Üí MAVLink Inspector**.
3. –ó–Ω–∞–π–¥—ñ—Ç—å:
   - `GPS_INPUT` –∞–±–æ `HIL_GPS` –∑ `sysid = MY_SYSID` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 42);
   - `STATUSTEXT` –∑ —Ç–∞–∫–∏–º –∂–µ `sysid`.
4. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ:
   - —á–∞—Å—Ç–æ—Ç–∞ `GPS_INPUT` —Å—Ç–∞–±—ñ–ª—å–Ω–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 5‚Äì10 –ì—Ü);
   - `lat`, `lon`, `alt`, `hdop`, `satellites_used` –º–∞—é—Ç—å –∞–¥–µ–∫–≤–∞—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è;
   - –ø—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ —Å–ø—É—Ñ—ñ–Ω–≥—É/–∞–Ω–æ–º–∞–ª—ñ—ó –∑ º—è–≤–ª—è—é—Ç—å—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ `STATUSTEXT`.

> üîÅ –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è —Å–∫—Ä—ñ–Ω—à–æ—Ç—É MAVLink Inspector:
>
> `![MAVLink Inspector –∑ –ø–∞–∫–µ—Ç–∞–º–∏ GPS_INPUT –≤—ñ–¥ –ø–ª–∞—Ç–∏](pathname://IMAGE_URL_MP_MAVLINK_INSPECTOR)`

---

## 7. –í–∑–∞—î–º–æ–¥—ñ—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏ ArduPilot

–©–æ–± ArduPilot –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–π–º–∞–≤ GPS –≤—ñ–¥ –ø–ª–∞—Ç–∏:

- –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–º—É –ø–æ—Ä—Ç—É:

  - `SERIALx_PROTOCOL = 2` (MAVLink2) –∞–±–æ `1` (MAVLink1, –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø—Ä–æ—à–∏–≤–∫–∏ –ø–ª–∞—Ç–∏);
  - `SERIALx_BAUD = 115` (–¥–ª—è 115200 –±–æ–¥, —è–∫—â–æ —Å–∞–º–µ —Ç–∞–∫–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è).

- —É GPS-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö:

  - `GPS_TYPE = 14` (**MAV** ‚Äî GPS –ø–æ MAVLink).

–Ø–∫—â–æ —É –≤–∞—Å —î –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π ‚Äú–∑–∞–ª—ñ–∑–Ω–∏–π‚Äù GPS, –≤–∏ –º–æ–∂–µ—Ç–µ:

- –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–ª–∞—Ç—É —è–∫ **–æ—Å–Ω–æ–≤–Ω–µ –¥–∂–µ—Ä–µ–ª–æ GPS** (GNSS sanity board —Ä–æ–±–∏—Ç—å —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é);
- –∞–±–æ —è–∫ –¥—Ä—É–≥–∏–π GPS (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `GPS_TYPE2`), –∞ –¥–∞–ª—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤ ArduPilot.

–î–µ—Ç–∞–ª—å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –Ω–∞–≤–µ–¥–µ–Ω—ñ –≤ –æ–∫—Ä–µ–º–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ **¬´–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ ArduPilot¬ª** (`gnss_ardupilot_integration`).

---

## 8. –©–æ –≤–∞—Ä—Ç–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∏ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—ñ MAVLink

–ö–æ—Ä–æ—Ç–∫–∏–π —á–µ–∫-–ª–∏—Å—Ç:

1. **–ß–∏ –π–¥–µ –±—É–¥—å-—è–∫–∏–π MAVLink-—Ç—Ä–∞—Ñ—ñ–∫ –∑ –ø–ª–∞—Ç–∏?**
   - –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å USB-UART –∞–¥–∞–ø—Ç–µ—Ä –¥–æ –ª—ñ–Ω—ñ—ó `FC_TX` —Ç–∞ –ø–æ–¥–∏–≤—ñ—Ç—å—Å—è —Å–∏—Ä–∏–π HEX/ASCII.
2. **–ß–∏ –∑–±—ñ–≥–∞—é—Ç—å—Å—è `sysid` / `target_system` –∑ `SYSID_THISMAV` –∞–≤—Ç–æ–ø—ñ–ª–æ—Ç–∞?**
3. **–ß–∏ –±–∞—á–∏—Ç–µ –≤–∏ `GPS_INPUT` / `HIL_GPS` —É MAVLink Inspector?**
4. **–ß–∏ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –ø–æ–ª—è `lat`, `lon`, `fix_type`, `satellites_used` –ø—Ä–∏ –∑–º—ñ–Ω—ñ —É–º–æ–≤ GNSS?**
5. **–ß–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –≤–∏ `STATUSTEXT` –ø—Ä–∏ –≤—Ö–æ–¥—ñ/–≤–∏—Ö–æ–¥—ñ –∑ DR?**
6. **–ß–∏ —Å–ø—ñ–≤–ø–∞–¥–∞—î —á–∞—Å—Ç–æ—Ç–∞ –∫–∞–¥—Ä—ñ–≤ –∑ –æ—á—ñ–∫—É–≤–∞–Ω–æ—é** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 5‚Äì10 –ì—Ü –¥–ª—è `GPS_INPUT`)?

–Ø–∫—â–æ –≤—Å–µ –≤–∏—â–µ –ø—Ä–∞—Ü—é—î, –∞–ª–µ ArduPilot –≤—Å–µ –æ–¥–Ω–æ –Ω–µ –ø–æ–∫–∞–∑—É—î GPS:

- –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–µ —Ä–∞–∑ `SERIALx_PROTOCOL`, `SERIALx_BAUD`, `GPS_TYPE`;
- –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —ñ–Ω—à—ñ –ø–æ—Ä—Ç–∏/–º–æ–¥—É–ª—ñ –Ω–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—é—Ç—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥—Ä—É–≥–∏–π GPS –Ω–∞ —Ç–æ–º—É –∂ –ø–æ—Ä—Ç—É).

---

–£ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ (`gnss_ardupilot_integration.md`) –±—É–¥–µ –æ–ø–∏—Å–∞–Ω–æ, **—è–∫ —Å–∞–º–µ** –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ ArduPilot / ArduPlane –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ü—ñ—î—é –ø–ª–∞—Ç–æ—é (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, –ø—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π —Ç–∞ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ –∑ Mission Planner).
