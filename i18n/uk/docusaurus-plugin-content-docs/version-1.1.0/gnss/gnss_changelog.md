---
id: gnss_changelog
title: Історія версій та дорожня карта
sidebar_label: Changelog / Roadmap
---

На цій сторінці описано **історію змін прошивки** для плати **GNSS sanity board на  STM32F401**, а також **орієнтовну дорожню карту** розвитку проєкту.


---

## 1. Як читати цю сторінку

- Розділ **“Історія версій”** — короткий перелік релізів з основними змінами.
- Розділ **“Деталі релізів”** — більш розгорнутий опис кожної версії.
- Розділ **“Дорожня карта”** — заплановані напрямки розвитку, які *можуть змінюватися*.
- Розділ **“Як перевірити версію прошивки”** — де побачити номер версії у логах/коді.

Цей документ призначений як для інженерів, так і для операторів, щоб було легко зрозуміти, **яка версія прошивки стоїть на платі** і чим вона відрізняється від попередніх.

---

## 2. Історія версій (огляд)


| Версія | Дата        | Короткий опис                                  |
|--------|-------------|-------------------------------------------------|
| v0.1.0 | 2025-10-10  | Перша робоча версія    |


---

## 3. Деталі релізів


### 3.1. Версія v0.1.0

**Перший робочий прототип:**

- читання GNSS по UART;
- базова перевірка стрибка відстані та швидкості;
- простий DR-режим з логами лише по USB;
- передавання GPS-даних у автопілот через базовий MAVLink-формат.

**Відомі обмеження:**

- відсутні `STATUSTEXT` та розширені логи;
- недостатньо гнучка конфігурація порогів (частина значень захардкожена);
- немає чіткої індикації LED для різних станів DR.

---

## 4. Дорожня карта (Roadmap)


### 4.1. Ближчі плани (короткий горизонт)

- **Гнучкі налаштування без перескладання коду:**
  - винесення ключових порогів (`GNSS_MAX_DIST_JUMP_M`, `GNSS_MAX_SPEED_MPS` тощо) у конфігураційний блок з можливістю змін через MAVLink або EEPROM.
- **Покращення логів:**
  - додаткові поля в USB-логах (наприклад, тип активного тригера DR);
  - систематичний формат для парсингу логів скриптами.
- **Режим “dry-run”:**
  - коли плата тільки аналізує GNSS і генерує попередження, але **не втручається** в GPS, який йде до автопілота (корисно для початкових тестів).

---

### 4.2. Середньострокові плани

- **Підтримка додаткових GNSS-приймачів:**
  - UM980, F9P у різних конфігураціях, інші UART-GNSS;
  - автоматичне розпізнавання формату (UBX/NMEA).
- **Більш складні детектори спуфінгу:**
  - аналіз зміни висоти та швидкості одночасно;
  - контроль часу (`time_of_week`, “стрибки” GPS-часу);
  - крос-перевірка з барометром / IMU (через додаткові канали, якщо буде реалізовано).
- **Проста телеметрія стану DR у GCS:**
  - окремі MAVLink-повідомлення про стан фільтру;
  - можливість виводити DR-статус у HUD/OSD.

---

### 4.3. Довгострокові ідеї

- **Підтримка CAN / UAVCAN:**
  - плата як CAN-модуль з виходом “фільтрованого GPS”.
- **Інтеграція з INS/IMU високої точності:**
  - більш складний фільтр на основі INS + GNSS;
  - розширене Dead Reckoning з використанням IMU навіть при повній втраті GNSS.
- **Автоматичні self-test при старті:**
  - перевірка памʼяті, UART-ліній, базових функцій до подачі GPS в автопілот.


## 5. Політика оновлення прошивки

Рекомендовано дотримуватися таких правил:

1. **Перед оновленням:**
   - зберігати поточний `.bin` та зазначати, на якій саме платформі/UAV він стоїть;
   - робити резервні копії параметрів автопілота (`.param` файл);
   - виконувати короткі lab-тести нової версії.

2. **Після оновлення:**
   - відразу перевіряти USB-логи та `STATUSTEXT` на предмет версії;
   - проводити тестові польоти в безпечних умовах;
   - документувати, які проблеми вирішено, а які ще залишилися.

3. **Версіонування:**
   - **мінорна версія** (v0.3 → v0.4), коли додаються нові функції;
   - **патч-версія** (v0.3.0 → v0.3.1), коли виправляються лише баги без зміни логіки DR.
